<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Customizing Wolfringo - Command Handler Provider | Wolfringo Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Customizing Wolfringo - Command Handler Provider | Wolfringo Documentation ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="shortcut icon" href="../../../wolfringo_logo.png">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/night-owl.min.css">
    <link rel="stylesheet" href="../../../styles/colors.css">
    <link rel="stylesheet" href="../../../styles/discord.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    
    
  </head>

  <body>
        <div class="top-navbar">

            <a href="javascript:void(0);" class="burger-icon" onclick="toggleMenu()">
                <svg name="Hamburger" style="vertical-align: middle;" width="24" height="24" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M20 6H4V9H20V6ZM4 10.999H20V13.999H4V10.999ZM4 15.999H20V18.999H4V15.999Z"></path></svg>
            </a>

            
            <a class="brand" href="../../../index.html">
              <img src="../../../wolfringo_logo.png" alt="Wolfringo" class="logomark">
              <span class="brand-title">Wolfringo</span>
            </a>
        </div>

        <div class="body-content">

            <div id="blackout" class="blackout" onclick="toggleMenu()"></div>

            <nav id="sidebar" role="navigation">

                <div class="sidebar">
                    
                    
                    
                    
                    <div>
                      
                      <a class="brand" href="../../../index.html">
                        <img src="../../../wolfringo_logo.png" alt="Wolfringo" class="logomark">
                        <span class="brand-title">Wolfringo</span>
                      </a>
                      <div id="navbar">
                    
                      </div>
                    
                    </div>
                    

                    <div class="sidebar-item-separator"></div>

                        
                        <div id="sidetoggle">
                          <div id="sidetoc"></div>
                        </div>

                </div>

                <div class="footer">
                  Wolfringo (c) 2020 <a href='https://tehgm.net'>TehGM</a><br>DocFX, <a href='https://github.com/jbltx/DiscordFX/'>DiscordFX</a> theme.
                  
                </div>
            </nav>

            <main class="main-panel">

                <div>
                  
                  <div id="search-results">
                    <div class="search-list">Search Results for <span></span></div>
                    <div class="sr-items">
                      <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
                    </div>
                    <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
                  </div>
                </div>

                <div role="main" class="hide-when-search">

                        
                        <div class="subnav navbar navbar-default">
                          <div class="container hide-when-search" id="breadcrumb">
                            <ul class="breadcrumb">
                              <li></li>
                            </ul>
                          </div>
                        </div>

                    <article class="content wrap" id="_content" data-uid="Guides.Customizing.Commands.CommandHandlerProvider">
<h1 id="command-handler-provider">Command Handler Provider</h1>

<p>Wolfringo Commands Service depends on <a class="xref" href="../../../api/TehGM.Wolfringo.Commands.Initialization.ICommandsHandlerProvider.html">ICommandsHandlerProvider</a> for creating instances of command handlers and caching persisting ones in memory.<br>
Wolfringo's default <a class="xref" href="../../../api/TehGM.Wolfringo.Commands.Initialization.CommandsHandlerProvider.html">CommandsHandlerProvider</a> will automatically attempt to find a valid Constructor (respecting <a class="xref" href="../../../api/TehGM.Wolfringo.Commands.CommandsHandlerConstructorAttribute.html">[CommandsHandlerConstructor] attribute</a>), cache <a class="xref" href="../../../api/TehGM.Wolfringo.Commands.Initialization.ICommandHandlerDescriptor.html">ICommandHandlerDescriptor</a> for future, store persistent handlers in the memory, and dispose disposable handlers when the provider itself (throught commands service) is being disposed.</p>
<p>You can check the default implementation on GitHub: <a href="https://github.com/TehGM/Wolfringo/blob/master/Wolfringo.Commands/Initialization/CommandsHandlerProvider.cs">CommandsHandlerProvider.cs</a>.</p>
<h2 id="custom-command-handler-provider">Custom Command Handler Provider</h2>
<p>Of for some reason the default implementation doesn't work for you, you can create a new provider. To do so, create a new class implementing <a class="xref" href="../../../api/TehGM.Wolfringo.Commands.Initialization.ICommandsHandlerProvider.html">ICommandsHandlerProvider</a> interface.</p>
<p>That interface only requires one method: <a class="xref" href="../../../api/TehGM.Wolfringo.Commands.Initialization.ICommandsHandlerProvider.html#TehGM_Wolfringo_Commands_Initialization_ICommandsHandlerProvider_GetCommandHandler_TehGM_Wolfringo_Commands_Initialization_ICommandInstanceDescriptor_System_IServiceProvider_">GetCommandHandler</a>. 2 parameters are provided:</p>
<ul>
<li><a class="xref" href="../../../api/TehGM.Wolfringo.Commands.Initialization.ICommandInstanceDescriptor.html">ICommandInstanceDescriptor</a> - the descriptor of the command instance, contains the <a class="xref" href="../../../api/TehGM.Wolfringo.Commands.Attributes.CommandAttributeBase.html">CommandAttributeBase</a> with the attribute on the method and @System.Reflection.MethodInfo which is the reflection of the method this command will execute.</li>
<li>@System.IServiceProvider - services container, that can be used for creating handlers instances with Dependency Injection.</li>
</ul>
<p>This method is required to return an <a class="xref" href="../../../api/TehGM.Wolfringo.Commands.Initialization.ICommandsHandlerProviderResult.html">ICommandsHandlerProviderResult</a>, which includes the handler descriptor (which you need to create in the method) and the actual handler instance. This will then be used by Commands Service to execute the command method.</p>
<p>Once your custom class is finished, you need to register it with <a class="xref" href="../../../api/TehGM.Wolfringo.Commands.CommandsServiceBuilder.html">CommandsServiceBuilder</a> as explained in <a class="xref" href="../introduction.html">Introduction</a>.</p>
</article>
              
                </div>
            </main>
        </div>

        
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
<script type="text/javascript" src="../../../styles/jquery.twbsPagination.js"></script>
<script type="text/javascript" src="../../../styles/url.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
<script type="text/javascript" src="../../../styles/docfx.js"></script>
<script type="text/javascript" src="../../../styles/main.js"></script>
<script type="text/javascript">
	anchors.options.visible = 'touch';
	anchors.options.placement = 'left';
	anchors.add('h2, h3, h4, h5');
</script>
    </body>

</html>
